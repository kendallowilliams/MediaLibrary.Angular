
<form [formGroup]="configForm">
  <ml-modal-content class="w-[500px]">
    <ml-modal-header>
      <ml-modal-title>Edit Music Settings</ml-modal-title>
    </ml-modal-header>
    <ml-modal-body class="flex flex-col gap-[10px]">
      <div class="grid grid-flow-col grid-cols-[150px_1fr]">
        <label mlLabel>Locations</label>
        <ml-list-box [items]="locationItems" formControlName="musicPaths" [itemTemplate]="locationTemplate"></ml-list-box>
      </div>
    </ml-modal-body>
    <ml-modal-footer class="flex items-center justify-end gap-[5px]">
      <button mlButton [variant]="'primary'" (click)="handleSave()" [attr.disabled]="!configForm.dirty || !configForm.valid || null">Save</button>
      <button mlButton [variant]="'secondary'" (click)="handleCancel()">Cancel</button>
    </ml-modal-footer>
  </ml-modal-content>
</form>

<ng-template #locationTemplate mlListBoxItemTemplate let-context>
  <div class="flex items-center h-control">
    <span class="inline-flex border-dark border-[1px] border-solid rounded-[5px] self-stretch px-[10px]
      text-dark dark:text-light bg-light dark:bg-dark items-center rounded-r-none border-r-0">{{context.item.name}}</span>
    <button mlSecondaryButton class="rounded-l-none" [variant]="'danger'" 
      (click)="handleLocationRemove(context.item)">
      <fa-icon [icon]="faTrashCan"></fa-icon>
      <span class="sr-only">delete list item</span>
    </button>
  </div>
</ng-template>
